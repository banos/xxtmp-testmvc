<head>
	<meta charset="utf-8">
	<title>Meteor â€¢ TobuyMVC</title>
</head>
<body>
	<section id="tobuyapp" data-framework="meteor">
		{{> tobuyapp}}
	</section>
	<footer id="info">
		<p>Double-click to edit a tobuy</p>
		<p>Created by Matthias Stumpp - <a href="http://github.com/MStumpp">GitHub</a>&nbsp;&nbsp;<a href="http://twitter.com/MatStumpp">Twitter</a></p>
		<p><a href="http://tobuymvcapp.meteor.com">Meteor TobuyMVC</a></p>
		<p>Part of <a href="http://tobuymvc.com">TobuyMVC</a></p>
	</footer>
</body>

<template name="tobuyapp">
	<header id="header">
		<h1>tobuys</h1>
		<input id="new-tobuy" placeholder="What needs to be done?" autofocus>
	</header>
	{{#if tobuys}}
		{{> main}}
		{{> footer}}
	{{/if}}
</template>

<template name="main">
	<section id="main">
		<input id="toggle-all" type="checkbox" checked="{{#unless tobuys_not_completed}}checked{{/unless}}">
		<label for="toggle-all">Mark all as complete</label>
		<ul id="tobuy-list">
			{{#each tobuys}}
				{{> tobuy}}
			{{/each}}
		</ul>
	</section>
</template>

<template name="tobuy">
	<li class="{{#if tobuy_completed}}completed{{/if}}{{#if tobuy_editing}}editing{{/if}}">
		<div class="view">
			<input class="toggle" type="checkbox" checked="{{#if tobuy_completed}}checked{{/if}}">
			<label>{{title}}</label>
			<button class="destroy"></button>
		</div>
		<input class="edit" value="{{title}}">
	</li>
</template>

<template name="footer">
	<footer id="footer">
		<span id="tobuy-count"><strong>{{tobuys_not_completed}}</strong>
			{{#if tobuys_one_not_completed}}item{{else}}items{{/if}} left</span>
		<ul id="filters">
					{{#each filters}}
						<li>
							<a class="{{#if filter_selected this}} selected {{/if}}" href="#/{{this}}">{{this}}</a>
						</li>
					{{/each}}
		</ul>
		{{#if tobuys_completed}}
			<button id="clear-completed">Clear completed</button>
		{{/if}}
	</footer>
</template>
